#!/bin/bash
echo'
          _____                    _____                    _____                    _____                    _____                    _____                    _____                    _____                    _____          
         /\    \                  /\    \                  /\    \                  /\    \                  /\    \                  /\    \                  /\    \                  /\    \                  /\    \         
        /::\    \                /::\    \                /::\____\                /::\____\                /::\    \                /::\____\                /::\    \                /::\    \                /::\    \        
       /::::\    \              /::::\    \              /:::/    /               /::::|   |                \:::\    \              /:::/    /               /::::\    \              /::::\    \              /::::\    \       
      /::::::\    \            /::::::\    \            /:::/    /               /:::::|   |                 \:::\    \            /:::/    /               /::::::\    \            /::::::\    \            /::::::\    \      
     /:::/\:::\    \          /:::/\:::\    \          /:::/    /               /::::::|   |                  \:::\    \          /:::/    /               /:::/\:::\    \          /:::/\:::\    \          /:::/\:::\    \     
    /:::/__\:::\    \        /:::/  \:::\    \        /:::/____/               /:::/|::|   |                   \:::\    \        /:::/    /               /:::/  \:::\    \        /:::/__\:::\    \        /:::/__\:::\    \    
   /::::\   \:::\    \      /:::/    \:::\    \      /::::\    \              /:::/ |::|   |                   /::::\    \      /:::/    /               /:::/    \:::\    \      /::::\   \:::\    \       \:::\   \:::\    \   
  /::::::\   \:::\    \    /:::/    / \:::\    \    /::::::\____\________    /:::/  |::|   | _____    _____   /::::::\    \    /:::/    /      _____    /:::/    / \:::\    \    /::::::\   \:::\    \    ___\:::\   \:::\    \  
 /:::/\:::\   \:::\    \  /:::/    /   \:::\    \  /:::/\:::::::::::\    \  /:::/   |::|   |/\    \  /\    \ /:::/\:::\    \  /:::/____/      /\    \  /:::/    /   \:::\ ___\  /:::/\:::\   \:::\    \  /\   \:::\   \:::\    \ 
/:::/  \:::\   \:::\____\/:::/____/     \:::\____\/:::/  |:::::::::::\____\/:: /    |::|   /::\____\/::\    /:::/  \:::\____\|:::|    /      /::\____\/:::/____/     \:::|    |/:::/  \:::\   \:::\____\/::\   \:::\   \:::\____\
\::/    \:::\   \::/    /\:::\    \      \::/    /\::/   |::|~~~|~~~~~     \::/    /|::|  /:::/    /\:::\  /:::/    \::/    /|:::|____\     /:::/    /\:::\    \     /:::|____|\::/    \:::\  /:::/    /\:::\   \:::\   \::/    /
 \/____/ \:::\   \/____/  \:::\    \      \/____/  \/____|::|   |           \/____/ |::| /:::/    /  \:::\/:::/    / \/____/  \:::\    \   /:::/    /  \:::\    \   /:::/    /  \/____/ \:::\/:::/    /  \:::\   \:::\   \/____/ 
          \:::\    \       \:::\    \                    |::|   |                   |::|/:::/    /    \::::::/    /            \:::\    \ /:::/    /    \:::\    \ /:::/    /            \::::::/    /    \:::\   \:::\    \     
           \:::\____\       \:::\    \                   |::|   |                   |::::::/    /      \::::/    /              \:::\    /:::/    /      \:::\    /:::/    /              \::::/    /      \:::\   \:::\____\    
            \::/    /        \:::\    \                  |::|   |                   |:::::/    /        \::/    /                \:::\__/:::/    /        \:::\  /:::/    /               /:::/    /        \:::\  /:::/    /    
             \/____/          \:::\    \                 |::|   |                   |::::/    /          \/____/                  \::::::::/    /          \:::\/:::/    /               /:::/    /          \:::\/:::/    /     
                               \:::\    \                |::|   |                   /:::/    /                                     \::::::/    /            \::::::/    /               /:::/    /            \::::::/    /      
                                \:::\____\               \::|   |                  /:::/    /                                       \::::/    /              \::::/    /               /:::/    /              \::::/    /       
                                 \::/    /                \:|   |                  \::/    /                                         \::/____/                \::/____/                \::/    /                \::/    /        
                                  \/____/                  \|___|                   \/____/                                           ~~                       ~~                       \/____/                  \/____/         
                                                                                                                                                                                                                                
    Developed by FCKN_JUDAS

'
# Ваши ключи
WALLET_ADDRESS="SOL:G5MFVuQvYabm9sknjwXi9HcHVLGYnEdiQcsQ3NASP1W3"
POOL_ADDRESS="rx.unmineable.com:443"
ALGORITHM="rx"
REF_CODE="8s32-cp81"

# Путь к xmrig (если не в PATH)
XMRIG_PATH="./xmrig"  # Предполагается, что xmrig находится в текущей директории.  Измените при необходимости.

# Функция для генерации случайного имени воркера
generate_random_worker_name() {
  head /dev/urandom | tr -dc A-Za-z0-9 | head -c 16 ; echo ''
}

# Анимация загрузки
loading_animation() {
  local frames=("." ".." "...")
  local i=0
  while :; do
    echo -ne "\rЗагрузка ${frames[$i]}"
    i=$(( (i+1) % ${#frames[@]} ))
    sleep 0.2
    [[ -v stop_loading ]] && break
  done
  echo -ne "\r                                  \r" # Очищаем строку
}

# Запускаем анимацию загрузки в фоне
stop_loading=false
loading_animation &

# Получаем случайное имя воркера
WORKER_NAME=$(generate_random_worker_name)

# Формируем строку воркера для unMineable
UNMINEABLE_WORKER="$WALLET_ADDRESS.$WORKER_NAME#$REF_CODE"

# Формируем команду для запуска XMRig
XMRIG_COMMAND="$XMRIG_PATH -a $ALGORITHM -o stratum+ssl://$POOL_ADDRESS -p x -u $UNMINEABLE_WORKER"

# Останавливаем анимацию загрузки
stop_loading=true
wait  # Ждем завершения фонового процесса анимации

# Запускаем XMRig и выводим в консоль
$XMRIG_COMMAND

echo "XMRig завершен."
